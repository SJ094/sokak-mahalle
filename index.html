<script>
function normalize(text) {
  return text
    .toLowerCase()
    .replace("sok.", "sokak")
    .replace("sk", "sokak")
    .replace("sok", "sokak")
    .trim();
}

function ara() {
  const input = document.getElementById("sokakInput").value;
  const aranan = normalize(input);
  const resultDiv = document.getElementById("result");

  if (!aranan) {
    gosterSonuc("error", "❌ Uyarı", "Lütfen bir sokak adı girin");
    return;
  }

  // 1️⃣ Tam eşleşme
  if (sokaklar[aranan]) {
    gosterSonuc(
      "success",
      "✅ Bulundu!",
      `<div class="sokak-name">${input}</div>
       <div class="mahalle-name">${sokaklar[aranan]}</div>`
    );
    sesliSoyle(sokaklar[aranan]);
    return;
  }

  // 2️⃣ KISMİ EŞLEŞME (Yemeni → Yemeni Sokak)
  const bulunanSokak = Object.keys(sokaklar).find(sokak =>
    sokak.includes(aranan)
  );

  if (bulunanSokak) {
    gosterSonuc(
      "success",
      "✅ Bulundu!",
      `<div class="sokak-name">${bulunanSokak}</div>
       <div class="mahalle-name">${sokaklar[bulunanSokak]}</div>`
    );
    sesliSoyle(sokaklar[bulunanSokak]);
  } else {
    gosterSonuc(
      "warning",
      "⚠️ Bulunamadı",
      "Bu sokak veritabanında bulunamadı"
    );
    sesliSoyle("Bulunamadı");
  }
}
</script>
