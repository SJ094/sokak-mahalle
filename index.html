<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sokak Mahalle Bulucu</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:#f3f4f6;
  padding:20px;
}
.container{
  max-width:500px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,.1);
}
input{
  width:100%;
  padding:12px;
  font-size:16px;
}
button{
  margin-top:10px;
  padding:10px;
  font-size:16px;
  cursor:pointer;
}
.result{
  margin-top:20px;
  padding:15px;
  border-radius:8px;
}
.success{background:#e6fffa}
.warning{background:#fff7ed}
</style>
</head>

<body>

<div class="container">
  <h2>Sokak ‚Üí Mahalle Bulucu</h2>

  <input id="sokakInput" placeholder="Yemeni veya Yemeni Sokak">

  <button onclick="ara()">üîç Ara</button>
  <button onclick="sesliAra()">üé§ Sesli</button>

  <div id="result" class="result"></div>
</div>

<script>
/* VERƒ∞ */
const sokaklar = {
  "yemeni sokak": "Ertuƒürul Gazi Mahallesi",
  "√ßayƒ±r sokak": "Dumlupƒ±nar Mahallesi",
  "sekbanlƒ± sokak": "Ataevler Mahallesi"
};

/* NORMALIZE */
function normalize(t){
  return t.toLowerCase()
    .replace("sok.", "sokak")
    .replace("sk", "sokak")
    .trim();
}

/* ARAMA */
function ara(){
  const input = document.getElementById("sokakInput").value;
  const q = normalize(input);
  const result = document.getElementById("result");

  if(!q){
    result.innerHTML = "L√ºtfen sokak adƒ± girin";
    return;
  }

  if(sokaklar[q]){
    sonucGoster(q, sokaklar[q]);
    konus(sokaklar[q]);
    return;
  }

  const eslesen = Object.keys(sokaklar).find(s =>
    s.includes(q) || q.includes(s.replace(" sokak",""))
  );

  if(eslesen){
    sonucGoster(eslesen, sokaklar[eslesen]);
    konus(sokaklar[eslesen]);
  }else{
    result.className="result warning";
    result.innerHTML="Bulunamadƒ±";
  }
}

/* SONU√á */
function sonucGoster(sokak, mahalle){
  const result = document.getElementById("result");
  result.className="result success";
  result.innerHTML = `<b>${sokak}</b><br>${mahalle}`;
}

/* SES */
function konus(m){
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(m);
  u.lang="tr-TR";
  speechSynthesis.speak(u);
}

/* SESLƒ∞ */
function sesliAra(){
  const R = window.SpeechRecognition || window.webkitSpeechRecognition;
  if(!R){
    alert("Tarayƒ±cƒ± desteklemiyor");
    return;
  }
  const r = new R();
  r.lang="tr-TR";
  r.onresult = e=>{
    document.getElementById("sokakInput").value = e.results[0][0].transcript;
    ara();
  };
  r.start();
}
</script>

</body>
</html>
